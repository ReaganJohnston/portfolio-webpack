import"./style.css";import*as THREE from"three";import{MapControls,OrbitControls}from"three/examples/jsm/controls/OrbitControls.js";const clock=new THREE.Clock,scene=new THREE.Scene,camera=new THREE.PerspectiveCamera(75,window.innerWidth/window.innerHeight,.1,1e3),canvas=document.querySelector("canvas.webgl"),renderer=new THREE.WebGLRenderer({canvas}),loader=new THREE.TextureLoader,sphere=loader.load("./star.png");renderer.setPixelRatio(window.devicePixelRatio),renderer.setSize(window.innerWidth,window.innerHeight),camera.position.setZ(1),renderer.render(scene,camera);const geometry=new THREE.TorusGeometry(10,3,20,100),material=new THREE.PointsMaterial({size:.005,map:sphere}),torus=new THREE.Points(geometry,material);torus.position.setZ(-5),scene.add(torus);const pointLight=new THREE.PointLight(16777215),ambientLight=new THREE.AmbientLight(16777215);pointLight.position.set(5,5,5),scene.add(pointLight,ambientLight);const particles=new THREE.BufferGeometry,particlesCount=5e3,posArray=new Float32Array(15e3);for(let e=0;e<5e3;e++)posArray[e]=5*(Math.random()-.5);particles.setAttribute("position",new THREE.BufferAttribute(posArray,3));const particlesMesh=new THREE.Points(particles,material);function animateParticles(e){mouseY=e.clientY,mouseX=e.clientX}function onMouseWheel(e){e.preventDefault(),camera.position.z+=2e-4*e.deltaY,camera.position.clampScalar(0,1)}function onWindowResize(){camera.aspect=window.innerWidth/window.innerHeight,camera.updateProjectionMatrix(),renderer.setSize(window.innerWidth,window.innerHeight)}scene.add(particlesMesh),document.addEventListener("wheel",onMouseWheel),document.addEventListener("mousemove",animateParticles),window.addEventListener("resize",onWindowResize);let mouseX=0,mouseY=0;function animate(){requestAnimationFrame(animate);const e=clock.getDelta();particlesMesh.rotation.y+=-.1*e,mouseX>0&&(particlesMesh.rotation.x+=12e-5*e*-mouseY,particlesMesh.rotation.y+=mouseX*(12e-5*e)),torus.rotation.x+=.01,torus.rotation.y+=.005,torus.rotation.z+=.01,renderer.render(scene,camera)}animate();